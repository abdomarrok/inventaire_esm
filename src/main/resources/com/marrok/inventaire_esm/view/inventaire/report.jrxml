<jasperReport name="InventaireReport" language="java" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="New Data Adapter"/>

	<!-- Field declarations -->
	<field name="id" class="java.lang.Integer"/>
	<field name="id_article" class="java.lang.Integer"/>
	<field name="article_name" class="java.lang.String"/>
	<field name="id_localisation" class="java.lang.Integer"/>
	<field name="localisation_name" class="java.lang.String"/>
	<field name="service_name" class="java.lang.String"/>
	<field name="user_id" class="java.lang.Integer"/>
	<field name="time" class="java.sql.Timestamp"/>
	<field name="num_inventaire" class="java.lang.String"/>
	<field name="id_employer" class="java.lang.Integer"/>

	<!-- Move the query element here -->
	<query language="sql">
		<![CDATA[SELECT
            ii.id,
            ii.id_article,
            a.name AS article_name,
            ii.id_localisation,
            l.loc_name AS localisation_name,
            s.name AS service_name,
            ii.user_id,
            ii.time,
            ii.num_inventaire,
            ii.id_employer
        FROM
            inventaire_item ii
        JOIN
            article a ON ii.id_article = a.id
        JOIN
            localisation l ON ii.id_localisation = l.id
        LEFT JOIN
            service s ON l.id_service = s.id]]>
	</query>

	<!-- Layout elements follow the query -->
	<title height="50">
		<element kind="staticText" uuid="fd868f22-3db2-486b-a9d8-193205baacf4" x="0" y="10" width="555" height="30"
				 fontSize="16.0" bold="true" hTextAlign="Center">
			<text><![CDATA[Fiche d'inventaire]]></text>
		</element>
	</title>

	<pageHeader height="50">
		<element kind="staticText" uuid="fcf0c65f-6b89-458f-b9a3-52af22a6601b" mode="Opaque" x="40" y="10" width="100"
				 height="30" backcolor="#CCCCCC" fontSize="12.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<text><![CDATA[Localisation]]></text>
		</element>
		<element kind="textField" uuid="259b6d4f-90f2-45b4-9468-bb488dde6492" x="140" y="15" width="100" height="20"
				 hTextAlign="Center" vTextAlign="Middle">
			<expression><![CDATA[$F{localisation_name}]]></expression>
		</element>
		<element kind="staticText" uuid="f41b129d-7d6a-4b64-91d1-eec267c94aa8" mode="Opaque" x="260" y="10" width="100"
				 height="30" backcolor="#CCCCCC" fontSize="12.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<text><![CDATA[Service]]></text>
		</element>
		<element kind="textField" uuid="66469f9f-c04e-4ba0-a9a5-5e68da11ff9b" x="380" y="15" width="100" height="20"
				 hTextAlign="Center" vTextAlign="Middle">
			<expression><![CDATA[$F{service_name}]]></expression>
		</element>
	</pageHeader>

	<columnHeader height="30">
		<element kind="staticText" uuid="641ed749-4bbe-4bc3-8c91-16208980d78c" mode="Opaque" x="0" y="0" width="50"
				 height="30" backcolor="#CCCCCC" fontSize="12.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<text><![CDATA[ID]]></text>
		</element>
		<element kind="staticText" uuid="3ab6845e-94ad-4676-8042-ea0be1d3d4ee" mode="Opaque" x="50" y="0" width="330"
				 height="30" backcolor="#CCCCCC" fontSize="12.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<text><![CDATA[Article Name]]></text>
		</element>
		<element kind="staticText" uuid="f1bd9eba-2c8e-48d6-9e8c-6569a0a35889" mode="Opaque" x="380" y="0" width="100"
				 height="30" backcolor="#CCCCCC" fontSize="12.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<text><![CDATA[Num Inventaire]]></text>
		</element>
	</columnHeader>

	<detail>
		<band height="20">
			<element kind="textField" uuid="46a1d92f-2879-44c0-809e-7b75efc423ee" x="0" y="0" width="50" height="20"
					 hTextAlign="Center" vTextAlign="Middle">
				<expression><![CDATA[$F{id}]]></expression>
			</element>
			<element kind="textField" uuid="dac428d0-1a54-4d16-a3d4-ba35730db0a8" x="50" y="0" width="330" height="20"
					 hTextAlign="Center" vTextAlign="Middle">
				<expression><![CDATA[$F{article_name}]]></expression>
			</element>
			<element kind="textField" uuid="d0470687-a2f1-4a67-a5e5-d2a56a7ebb58" x="380" y="0" width="100" height="20"
					 hTextAlign="Left" vTextAlign="Middle">
				<expression><![CDATA[$F{num_inventaire}]]></expression>
			</element>
		</band>
	</detail>

	<pageFooter height="20">
		<element kind="textField" uuid="f7650818-4be9-407d-911f-f22a04397cec" x="345" y="0" width="210" height="20"
				 fontSize="10.0" italic="true" hTextAlign="Center" vTextAlign="Middle">
			<expression><![CDATA["Page " + $V{PAGE_NUMBER}]]></expression>
		</element>
	</pageFooter>
</jasperReport>
